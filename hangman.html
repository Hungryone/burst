<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hangman</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      color: white;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      position: relative;
    }

    .back-link {
      position: absolute;
      left: 1rem;
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      font-size: 1rem;
      transition: color 0.2s;
    }

    .back-link:hover {
      color: white;
    }

    .title {
      font-size: 1.75rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* Game Container */
    .game-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
      max-width: 500px;
      margin: 0 auto;
      width: 100%;
    }

    /* Screens */
    .screen {
      display: none;
      width: 100%;
      text-align: center;
    }

    .screen.active {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Setup Screen */
    .setup-instructions {
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      line-height: 1.5;
    }

    .player-label {
      font-size: 1.2rem;
      color: #667eea;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .word-input {
      width: 100%;
      padding: 1rem;
      font-size: 1.25rem;
      border: 2px solid rgba(102, 126, 234, 0.3);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      text-align: center;
      margin-bottom: 1rem;
      -webkit-text-security: disc;
    }

    .word-input::placeholder {
      color: rgba(255, 255, 255, 0.4);
    }

    .word-input:focus {
      outline: none;
      border-color: #667eea;
    }

    .start-btn, .play-again-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .start-btn:hover, .play-again-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
    }

    .start-btn:active, .play-again-btn:active {
      transform: translateY(0);
    }

    /* Handoff Screen */
    .handoff-message {
      font-size: 1.3rem;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .handoff-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
    }

    /* Game Screen */
    .hangman-drawing {
      font-family: monospace;
      font-size: 1.2rem;
      line-height: 1.3;
      color: #667eea;
      background: rgba(102, 126, 234, 0.1);
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 1rem;
      white-space: pre;
      min-height: 160px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .word-display {
      font-size: 2rem;
      letter-spacing: 0.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
      word-break: break-all;
      padding: 0 1rem;
    }

    .guesses-remaining {
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 1rem;
      font-size: 1rem;
    }

    .wrong-letters {
      color: #ff6b6b;
      margin-bottom: 1.5rem;
      font-size: 1rem;
      min-height: 1.5rem;
    }

    /* Keyboard */
    .keyboard {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.4rem;
      width: 100%;
      max-width: 400px;
    }

    .key {
      background: rgba(102, 126, 234, 0.2);
      border: 1px solid rgba(102, 126, 234, 0.3);
      color: white;
      padding: 0.75rem 0.25rem;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .key:hover:not(:disabled) {
      background: rgba(102, 126, 234, 0.4);
      transform: translateY(-2px);
    }

    .key:active:not(:disabled) {
      transform: translateY(0);
    }

    .key:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .key.correct {
      background: rgba(46, 204, 113, 0.4);
      border-color: rgba(46, 204, 113, 0.5);
    }

    .key.wrong {
      background: rgba(255, 107, 107, 0.4);
      border-color: rgba(255, 107, 107, 0.5);
    }

    /* Result Screen */
    .result-icon {
      font-size: 5rem;
      margin-bottom: 1rem;
    }

    .result-message {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .result-word {
      font-size: 1.2rem;
      color: rgba(255, 255, 255, 0.8);
      margin-bottom: 2rem;
    }

    .win .result-message {
      color: #2ecc71;
    }

    .lose .result-message {
      color: #ff6b6b;
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 1rem;
    }

    .footer a {
      color: rgba(255, 255, 255, 0.5);
      text-decoration: none;
      font-size: 0.9rem;
    }

    .footer a:hover {
      color: rgba(255, 255, 255, 0.8);
    }

    /* Responsive */
    @media (max-width: 400px) {
      .keyboard {
        grid-template-columns: repeat(6, 1fr);
      }

      .key {
        padding: 0.6rem 0.2rem;
        font-size: 1rem;
      }

      .word-display {
        font-size: 1.5rem;
        letter-spacing: 0.3rem;
      }

      .hangman-drawing {
        font-size: 1rem;
        min-height: 140px;
      }
    }

    @media (max-width: 350px) {
      .keyboard {
        grid-template-columns: repeat(5, 1fr);
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <a href="index.html" class="back-link">‚Üê Back</a>
    <h1 class="title">üìù Hangman</h1>
  </header>

  <div class="game-container">
    <!-- Setup Screen (Player 1) -->
    <div id="setup-screen" class="screen active">
      <p class="player-label">Player 1</p>
      <p class="setup-instructions">
        Enter a secret word for Player 2 to guess.<br>
        Don't let them see!
      </p>
      <input
        type="text"
        id="word-input"
        class="word-input"
        placeholder="Type secret word..."
        autocomplete="off"
        autocapitalize="off"
      >
      <button id="start-btn" class="start-btn">Ready!</button>
    </div>

    <!-- Handoff Screen -->
    <div id="handoff-screen" class="screen">
      <div class="handoff-icon">üîÑ</div>
      <p class="handoff-message">
        Pass the device to<br>
        <strong>Player 2</strong>
      </p>
      <button id="play-btn" class="start-btn">Start Guessing!</button>
    </div>

    <!-- Game Screen (Player 2) -->
    <div id="game-screen" class="screen">
      <div id="hangman-drawing" class="hangman-drawing"></div>
      <div id="word-display" class="word-display"></div>
      <p id="guesses-remaining" class="guesses-remaining"></p>
      <p id="wrong-letters" class="wrong-letters"></p>
      <div id="keyboard" class="keyboard"></div>
    </div>

    <!-- Result Screen -->
    <div id="result-screen" class="screen">
      <div id="result-icon" class="result-icon"></div>
      <p id="result-message" class="result-message"></p>
      <p id="result-word" class="result-word"></p>
      <button id="play-again-btn" class="play-again-btn">Play Again</button>
    </div>
  </div>

  <footer class="footer">
    <a href="about.html">About Me</a>
  </footer>

  <script>
    // Game state
    let secretWord = '';
    let guessedLetters = [];
    let wrongGuesses = 0;
    const maxWrongGuesses = 6;

    // Hangman stages
    const hangmanStages = [
      `
  +---+
  |   |
      |
      |
      |
      |
=========`,
      `
  +---+
  |   |
  O   |
      |
      |
      |
=========`,
      `
  +---+
  |   |
  O   |
  |   |
      |
      |
=========`,
      `
  +---+
  |   |
  O   |
 /|   |
      |
      |
=========`,
      `
  +---+
  |   |
  O   |
 /|\\  |
      |
      |
=========`,
      `
  +---+
  |   |
  O   |
 /|\\  |
 /    |
      |
=========`,
      `
  +---+
  |   |
  O   |
 /|\\  |
 / \\  |
      |
=========`
    ];

    // DOM elements
    const setupScreen = document.getElementById('setup-screen');
    const handoffScreen = document.getElementById('handoff-screen');
    const gameScreen = document.getElementById('game-screen');
    const resultScreen = document.getElementById('result-screen');
    const wordInput = document.getElementById('word-input');
    const startBtn = document.getElementById('start-btn');
    const playBtn = document.getElementById('play-btn');
    const playAgainBtn = document.getElementById('play-again-btn');
    const hangmanDrawing = document.getElementById('hangman-drawing');
    const wordDisplay = document.getElementById('word-display');
    const guessesRemaining = document.getElementById('guesses-remaining');
    const wrongLettersDisplay = document.getElementById('wrong-letters');
    const keyboard = document.getElementById('keyboard');
    const resultIcon = document.getElementById('result-icon');
    const resultMessage = document.getElementById('result-message');
    const resultWord = document.getElementById('result-word');

    // Show a screen
    function showScreen(screen) {
      [setupScreen, handoffScreen, gameScreen, resultScreen].forEach(s => {
        s.classList.remove('active');
      });
      screen.classList.add('active');
    }

    // Create keyboard
    function createKeyboard() {
      keyboard.innerHTML = '';
      'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(letter => {
        const key = document.createElement('button');
        key.className = 'key';
        key.textContent = letter;
        key.addEventListener('click', () => guessLetter(letter, key));
        keyboard.appendChild(key);
      });
    }

    // Update word display
    function updateWordDisplay() {
      wordDisplay.textContent = secretWord
        .split('')
        .map(letter => guessedLetters.includes(letter) ? letter : '_')
        .join(' ');
    }

    // Update hangman drawing
    function updateHangman() {
      hangmanDrawing.textContent = hangmanStages[wrongGuesses];
    }

    // Update guesses remaining
    function updateGuessesRemaining() {
      const remaining = maxWrongGuesses - wrongGuesses;
      guessesRemaining.textContent = `Guesses remaining: ${remaining}`;
    }

    // Update wrong letters display
    function updateWrongLetters() {
      const wrong = guessedLetters.filter(l => !secretWord.includes(l));
      wrongLettersDisplay.textContent = wrong.length > 0
        ? `Wrong: ${wrong.join(', ')}`
        : '';
    }

    // Check win condition
    function checkWin() {
      return secretWord.split('').every(letter => guessedLetters.includes(letter));
    }

    // Guess a letter
    function guessLetter(letter, keyElement) {
      if (guessedLetters.includes(letter)) return;

      guessedLetters.push(letter);
      keyElement.disabled = true;

      if (secretWord.includes(letter)) {
        keyElement.classList.add('correct');
        updateWordDisplay();

        if (checkWin()) {
          endGame(true);
        }
      } else {
        keyElement.classList.add('wrong');
        wrongGuesses++;
        updateHangman();
        updateGuessesRemaining();
        updateWrongLetters();

        if (wrongGuesses >= maxWrongGuesses) {
          endGame(false);
        }
      }
    }

    // End game
    function endGame(won) {
      resultScreen.className = 'screen ' + (won ? 'win' : 'lose');
      resultIcon.textContent = won ? 'üéâ' : 'üò¢';
      resultMessage.textContent = won ? 'You Won!' : 'Game Over';
      resultWord.textContent = `The word was: ${secretWord}`;
      showScreen(resultScreen);
    }

    // Start game
    function startGame() {
      const word = wordInput.value.trim().toUpperCase();

      if (word.length === 0) {
        wordInput.focus();
        return;
      }

      if (!/^[A-Z]+$/.test(word)) {
        alert('Please use only letters (A-Z)');
        return;
      }

      secretWord = word;
      wordInput.value = '';
      showScreen(handoffScreen);
    }

    // Begin guessing
    function beginGuessing() {
      guessedLetters = [];
      wrongGuesses = 0;

      createKeyboard();
      updateWordDisplay();
      updateHangman();
      updateGuessesRemaining();
      updateWrongLetters();

      showScreen(gameScreen);
    }

    // Reset game
    function resetGame() {
      secretWord = '';
      guessedLetters = [];
      wrongGuesses = 0;
      showScreen(setupScreen);
      wordInput.focus();
    }

    // Event listeners
    startBtn.addEventListener('click', startGame);
    playBtn.addEventListener('click', beginGuessing);
    playAgainBtn.addEventListener('click', resetGame);

    wordInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') startGame();
    });

    // Physical keyboard support during game
    document.addEventListener('keydown', (e) => {
      if (!gameScreen.classList.contains('active')) return;

      const letter = e.key.toUpperCase();
      if (/^[A-Z]$/.test(letter)) {
        const keyElement = [...keyboard.children].find(k => k.textContent === letter);
        if (keyElement && !keyElement.disabled) {
          guessLetter(letter, keyElement);
        }
      }
    });
  </script>
</body>
</html>
